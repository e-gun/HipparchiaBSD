#!/bin/sh
# PROVIDE: hipparchia
# REQUIRE: postgresql
# KEYWORD: shutdown

#
# Add the following lines to /etc/rc.conf to enable hipparchia_server:
#
#hipparchia_server_enable="YES"

# HUSER="hipparchia"
# HIPPHOME="/home/$HUSER/hipparchia_venv"
# SERVERPATH="$HIPPHOME/HipparchiaServer"

. /etc/rc.subr

name="hipparchia_server"
rcvar=hipparchia_server_enable

start_cmd="${name}_start"
stop_cmd=":"

load_rc_config $name

: ${hipparchia_server_user:=hipparchia}
: ${hipparchia_server_group:=hipparchia}

command="/home/hipparchia/hipparchia_venv/bin/python3 /home/hipparchia/hipparchia_venv/HipparchiaServer/run.py"

hipparchia_server_start()
{
        echo "Starting HipparchiaServer"
        ${command}
}

load_rc_config $name
run_rc_command "$1"
